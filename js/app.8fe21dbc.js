(function(){"use strict";var t={9812:function(t,e,n){n(2986),n(784);var o=n(6369),r=n(5996),a=n(9425);n(7024);o["default"].use(r.XG7),o["default"].use(a.X);var i=function(){var t=this,e=t._self._c;return e("b-container",{attrs:{fluid:""}},[e("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"success"}},[e("b-navbar-brand",{staticStyle:{width:"180px"},attrs:{to:"/"}},[t._v("物品管理系統")]),e("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),e("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[e("b-navbar-nav",{staticClass:"ml-auto mr-auto"},[e("b-nav-item",{attrs:{to:"/borrow"}},[t._v("借用物品")]),e("b-nav-item",{attrs:{to:"/return"}},[t._v("歸還物品")]),e("b-nav-item",{attrs:{to:"/item_add"}},[t._v("新增物品")]),e("b-nav-item",{attrs:{to:"/user_add"}},[t._v("新增人員")]),e("b-nav-item",{attrs:{to:"/user_list"}},[t._v("人員清單")]),e("b-nav-item",{attrs:{to:"/item_list"}},[t._v("物品清單")])],1)],1),e("b-navbar-nav",[e("span",{staticStyle:{width:"130px"}}),e("b-nav-item",{attrs:{to:"/about"}},[t._v("關於")])],1)],1),e("router-view")],1)},c=[],l=n(1001),u={},s=(0,l.Z)(u,i,c,!1,null,"b36a6086",null),d=s.exports,f=n(2631),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-5",attrs:{align:"center"}},[e("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{title:"物品管理系統","img-src":"https://picsum.photos/600/300/?image=24","img-alt":"Image","img-top":"",tag:"article","border-variant":"info"}},[e("b-card-text",{staticClass:"desc"},[t._v(" 這是物品借用系統雛形，功能尚待測試，介面也有待進一步美化。 ")]),t.ready?e("div",[e("p",[t._v(t._s(t.ready))]),e("b-button",{on:{click:function(e){return t.updateData()}}},[t._v("重新下載資料")])],1):t._e()],1)],1)},p=[],b=n(3822),v={data(){return{ready:null}},computed:{...(0,b.rn)({users:t=>t.users,items:t=>t.items})},async created(){this.users&&this.items?this.ready="已準備就緒":await this.updateData()},methods:{async updateData(){try{await this.$store.dispatch("get_collection","users"),await this.$store.dispatch("get_collection","items"),await this.$store.dispatch("get_collection","borrows"),this.ready="已準備就緒",alert("資料下載完畢！")}catch(t){console.log("Error",t)}}}},h=v,g=(0,l.Z)(h,m,p,!1,null,"3d686cba",null),y=g.exports;o["default"].use(f.Z);const _=[{path:"/",name:"home",component:y},{path:"/about",name:"about",component:()=>n.e(443).then(n.bind(n,3915))},{path:"/borrow",name:"borrow",component:()=>n.e(443).then(n.bind(n,9013))},{path:"/return",name:"return",component:()=>n.e(443).then(n.bind(n,9066))},{path:"/item_add",name:"item_add",component:()=>n.e(443).then(n.bind(n,5490))},{path:"/user_add",name:"user_add",component:()=>n.e(443).then(n.bind(n,4516))},{path:"/user_list",name:"user_list",component:()=>n.e(443).then(n.bind(n,8110))},{path:"/item_list",name:"item_list",component:()=>n.e(443).then(n.bind(n,9792))},{path:"/qr_read",name:"qr_read",component:()=>n.e(443).then(n.bind(n,6322))},{path:"/qr_show",name:"qr_show",component:()=>n.e(443).then(n.bind(n,9549))}],w=new f.Z({mode:"history",base:"/baby_borrow/",routes:_});var k=w,E=n(5734);o["default"].use(b.ZP);const C=["users","items","borrows"],x=()=>({users:null,items:null,borrows:null}),O={set_object(t,e){t[e.key]=e.value},insert_item(t,e){if(t[e.collection])t[e.collection][e.id]=e.value;else{let n={};n[e.id]=e.value,t[e.collection]=n}},update_item(t,e){t[e.collection]&&(t[e.collection][e.id]=e.value)},delete_item(t,e){t[e.collection]&&delete t[e.collection][e.id]}},j={async get_collection({commit:t},e){let n={};try{let o=await E.Mx.collection(e).get();if(o.empty)return{};o.forEach((t=>n[t.id]=t.data())),C.includes(e)&&t("set_object",{key:e,value:n}),console.log("name",e,n)}catch(o){console.log("Error",o)}return n},async update_item({commit:t},e){try{await E.Mx.collection(e.collection).doc(e.id).update(e.value),t("update_item",e)}catch(n){console.log("Error",n)}},async insert_item({commit:t},e){try{console.log("II",e.collection,e.value);let n=await E.Mx.collection(e.collection).add(e.value);return console.log("RES",n),t("insert_item",{collection:e.collection,id:n.id,value:e.value}),n.id}catch(n){console.log("Error",n)}},async delete_item({commit:t},e){try{console.log("II",e.collection,e.value),await E.Mx.collection(e.collection).doc(e.id).delete(),t("delete_item",{collection:e.collection,id:e.id})}catch(n){console.log("Error",n)}}},S=new b.yh({state:x,mutations:O,actions:j});var I=S;o["default"].config.productionTip=!1,new o["default"]({router:k,store:I,render:t=>t(d)}).$mount("#app")},5734:function(t,e,n){n.d(e,{Mx:function(){return i},mO:function(){return a}});var o=n(4552);n(8076),n(3753),n(4737);const r={apiKey:"AIzaSyD05CEV94R-7PpdN5iBQ6WZcILp4rWVguw",authDomain:"borrow-c68b0.firebaseapp.com",projectId:"borrow-c68b0",storageBucket:"borrow-c68b0.appspot.com",messagingSenderId:"742780752257",appId:"1:742780752257:web:295db2c6361fed839a9880",measurementId:"G-P3ZH6HWEFF"};o.Z.initializeApp(r);var a=o.Z.auth(),i=o.Z.firestore();o.Z.storage().ref()}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,o,r,a){if(!o){var i=1/0;for(s=0;s<t.length;s++){o=t[s][0],r=t[s][1],a=t[s][2];for(var c=!0,l=0;l<o.length;l++)(!1&a||i>=a)&&Object.keys(n.O).every((function(t){return n.O[t](o[l])}))?o.splice(l--,1):(c=!1,a<i&&(i=a));if(c){t.splice(s--,1);var u=r();void 0!==u&&(e=u)}}return e}a=a||0;for(var s=t.length;s>0&&t[s-1][2]>a;s--)t[s]=t[s-1];t[s]=[o,r,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,o){return n.f[o](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/about.a19073ff.js"}}(),function(){n.miniCssF=function(t){return"css/about.8a534cd8.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="borrow:";n.l=function(o,r,a,i){if(t[o])t[o].push(r);else{var c,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),s=0;s<u.length;s++){var d=u[s];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==e+a){c=d;break}}c||(l=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.setAttribute("data-webpack",e+a),c.src=o),t[o]=[r];var f=function(e,n){c.onerror=c.onload=null,clearTimeout(m);var r=t[o];if(delete t[o],c.parentNode&&c.parentNode.removeChild(c),r&&r.forEach((function(t){return t(n)})),e)return e(n)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=f.bind(null,c.onerror),c.onload=f.bind(null,c.onload),l&&document.head.appendChild(c)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/baby_borrow/"}(),function(){var t=function(t,e,n,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var a=function(a){if(r.onerror=r.onload=null,"load"===a.type)n();else{var i=a&&("load"===a.type?"missing":a.type),c=a&&a.target&&a.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+c+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=c,r.parentNode.removeChild(r),o(l)}};return r.onerror=r.onload=a,r.href=e,document.head.appendChild(r),r},e=function(t,e){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],a=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===t||a===e))return r}var i=document.getElementsByTagName("style");for(o=0;o<i.length;o++){r=i[o],a=r.getAttribute("data-href");if(a===t||a===e)return r}},o=function(o){return new Promise((function(r,a){var i=n.miniCssF(o),c=n.p+i;if(e(i,c))return r();t(o,c,r,a)}))},r={143:0};n.f.miniCss=function(t,e){var n={443:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=o(t).then((function(){r[t]=0}),(function(e){throw delete r[t],e})))}}(),function(){var t={143:0};n.f.j=function(e,o){var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise((function(n,o){r=t[e]=[n,o]}));o.push(r[2]=a);var i=n.p+n.u(e),c=new Error,l=function(o){if(n.o(t,e)&&(r=t[e],0!==r&&(t[e]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",c.name="ChunkLoadError",c.type=a,c.request=i,r[1](c)}};n.l(i,l,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,a,i=o[0],c=o[1],l=o[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(l)var s=l(n)}for(e&&e(o);u<i.length;u++)a=i[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(s)},o=self["webpackChunkborrow"]=self["webpackChunkborrow"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9812)}));o=n.O(o)})();
//# sourceMappingURL=app.8fe21dbc.js.map